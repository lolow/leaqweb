library('ggplot2')
library('gdata')
d <- read.table("<%= @output.file('csv') %>",sep=",",dec=".",h=TRUE)
d <- subset(d,attribute=="<%= @table[:attribute] %>")
<% if @table[:filter].size > 0 %>
d <- subset(d,<%= @table[:filter] %>)
<% end %>
p = ggplot(data=drop.levels(d),aes(x=T,y=value,group=C,colour=C))
p = p + geom_line()
p = p + opts(title='<%= @table[:name] %>')
p = p + geom_point()
p = p + labs(x="",y="",colour="")
ggsave(filename = "<%= @table[:png] %>",plot=p,width=1.618*<%=@table[:scale]%>,height=1*<%=@table[:scale]%>)